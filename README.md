# IP-Locator

Сервер, позволяющий делиться информацией о своем адресе и текстовом статусе.

Для соединения с сервером используется порт `9000`. На данный момент поддерживаются следующие команды:

- `CONNECT client_id` - сохраняет текущий адрес соединения под указанным именем. Команда может быть выполнена в любой момент, но только один раз. Повторное выполнение команды вернет ошибку.
- `STATUS text` - позволяет задать произвольный текст в виде статуса.
- `INFO client_id` - возвращает информацию о соединении с таким именем. Возвращается название, IP-адрес и порт, дата и время последнего обновления информации, текст статуса.
- `PING text` - возвращает ответ `PONG` с тем же текстом.
- `DISCONNECT` - закрывает текущее соединение. Информация об этом соединении будет доступна еще в течении 5 минут.
- любые другие команды не приводят к ошибке и возвращают ответ, что команда проигнорирована.

Соединение автоматически разрывается, если в течении 5 минут не было передано ни одной команды. Любая команда (даже неверная) устанавливает время обновления информации о соединении в текущее. Регистр команд неважен, а вот идентификатор соединения является чувствительным к регистру.


	$ telnet localhost 9000
	Trying 127.0.0.1...
	Connected to localhost.
	Escape character is '^]'.
	connect test
	OK Connected
	status my status text
	OK Status changed
	ping text
	PONG text
	info test
	INFO test 127.0.0.1:49731 2015-04-10T23:06:35Z my status text


## Планы

- [x] Простой текстовый протокол (работа через telnet)
- [x] Сохранение информация о соединении
- [x] Запрос статуса соединения по имени
- [x] Установка текстового статуса и получение его в запросе
- [x] Поддержка PING/PONG для поддержки соединения
- [x] Возможность отключения с сохранением информации о соединении в течении 5 минут
- [x] Корректная поддержка многопоточности
- [ ] Поддержка TLS (сделана, но требует тестирования)
- [ ] Тесты для проверки функциональности
- [ ] Авторизация
